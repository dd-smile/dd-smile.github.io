<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>五子棋项目</title>
      <link href="/2021/10/18/first/"/>
      <url>/2021/10/18/first/</url>
      
        <content type="html"><![CDATA[<h1 id="五子棋单机版"><a href="#五子棋单机版" class="headerlink" title="五子棋单机版"></a>五子棋单机版</h1><ol><li><h3 id="游戏规则"><a href="#游戏规则" class="headerlink" title="游戏规则"></a>游戏规则</h3><p>棋盘大小:15*15</p><p>空棋盘开局,黑棋先下,白棋后下,一次只能下一子.棋子下在交叉点上,棋子下在棋盘上之后,不能移动.</p><p>当相同颜色的五颗棋子连在一起的时候,就认为胜负已分.连在一起的方法有4个:水平,垂直,左上右下,左下右上;如果整个棋盘都摆满棋子之后,仍旧不分胜负,则认为和局.</p></li><li><h3 id="编程遇到的问题"><a href="#编程遇到的问题" class="headerlink" title="编程遇到的问题"></a>编程遇到的问题</h3><ol><li><h4 id="怎么样定义棋盘的坐标"><a href="#怎么样定义棋盘的坐标" class="headerlink" title="怎么样定义棋盘的坐标"></a>怎么样定义棋盘的坐标</h4><p>编程的时候数组或者列表的下标都是从0开始的,但是五子棋棋盘的坐标是从1开始的,如何解决两者之间的不协调?</p><p>第一种方法:把每个二维数组或列表的索引值全部加1,比如说五子棋棋盘第4行第6列,则对应的坐标是arr[3] [5].</p><p>第二种方法:直接忽略x=0和y=0这一行一列.分配内存时,直接分配16*16的内存空间做为棋盘即可.</p><ul><li>经过敲代码后发现,第一种方法需要来回切换,比较繁琐,代码量增加.因此采用第二种方法</li></ul></li><li><h4 id="坐标系"><a href="#坐标系" class="headerlink" title="坐标系"></a>坐标系</h4><p>对于计算机来说,一般会把左上角作为坐标系原点.从左往右是水平方向y,从上往下是垂直方向x</p><p>比如(4,6)表示第4行第6列,如下图:</p><p><img src="https://img-blog.csdnimg.cn/e1142dabff20449ba48dc5248ecde8f6.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5Yas55Oc5Yas55Oc5o6S6aqo5rGk,size_20,color_FFFFFF,t_70,g_se,x_16" alt="images"></p><p>对于五子棋棋盘来说,4个角落的坐标点分别为:</p><ul><li>左上角:(1,1)</li><li>左下角:(15,1)</li><li>右上角:(1,15)</li><li>右下角:(15,15)</li></ul></li><li><h4 id="胜负判断"><a href="#胜负判断" class="headerlink" title="胜负判断"></a>胜负判断</h4><p>相同颜色的五颗棋子连在一起,则胜负已分.有以下几种极端情况:</p><ul><li>从左到右:判断(x,y-4)~(x,y+4)这9个坐标中是否有连续5颗棋子连在一起</li><li>从上到下:判断(x-4,y)~(x+4,y)这9个坐标中是否有连续5颗棋子连在一起</li><li>左上右下:判断(x-4,y-4)~(x+4,y+4)这9个坐标中是否有连续5颗棋子连在一起</li><li>左下右上:判断(x+4,y-4)~(x-4,y+4)这9个坐标中是否有连续5颗棋子连在一起</li></ul></li></ol></li><li><h3 id="建立模型"><a href="#建立模型" class="headerlink" title="建立模型"></a>建立模型</h3><p>使用面向对象的思维来建立模型</p><p>棋子类</p><ul><li> 属性:颜色color,坐标pos   </li><li>方法:setColor(),getColor(),setPos(),getPos()</li></ul><p>棋盘类</p><ul><li>属性:棋盘大小BOARD_SIZE,棋盘上的棋子board[] []</li><li>方法:setChess(),getChess(),initBoard(),printBoard()</li></ul><p>规则类(引擎类)</p><ul><li>属性:棋盘对象 board</li><li>方法:判断胜负isWon(),计算机下棋方法computerGo(),人工下棋userGo()</li></ul></li><li><h3 id="代码如下"><a href="#代码如下" class="headerlink" title="代码如下"></a>代码如下</h3><p>创建一个棋盘类</p><p>chessboard.py</p><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#棋盘类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChessBoard</span>:</span></span><br><span class="line">    <span class="comment"># 棋盘大小</span></span><br><span class="line">    BOARD_SIZE = <span class="number">15</span></span><br><span class="line">    <span class="comment"># 初始化</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.board = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(ChessBoard.BOARD_SIZE+<span class="number">1</span>):</span><br><span class="line">            tmp = []</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(ChessBoard.BOARD_SIZE+<span class="number">1</span>):</span><br><span class="line">                tmp.append(<span class="number">0</span>)</span><br><span class="line">            self.board.append(tmp)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#清空棋盘</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">initBoard</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,ChessBoard.BOARD_SIZE+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,ChessBoard.BOARD_SIZE+<span class="number">1</span>):</span><br><span class="line">                self.board[i][j] = <span class="string">'+'</span>  <span class="comment"># 实现方法initBoard(),对棋盘进行初始化,把所有的空格都设置成'+'符号</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 打印棋盘</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printBoard</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 打印列号</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'  '</span>,end=<span class="string">' '</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,ChessBoard.BOARD_SIZE+<span class="number">1</span>):</span><br><span class="line">            ch = <span class="built_in">chr</span>(<span class="number">96</span>+i)</span><br><span class="line">            <span class="built_in">print</span>(ch,end=<span class="string">' '</span>)</span><br><span class="line">        <span class="built_in">print</span>()</span><br><span class="line">        <span class="comment"># 打印行号和棋盘</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,ChessBoard.BOARD_SIZE+<span class="number">1</span>):</span><br><span class="line">            <span class="comment"># 打印行号</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">'%2d'</span> % i,end=<span class="string">' '</span>)</span><br><span class="line">            <span class="comment"># 打印棋盘</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,ChessBoard.BOARD_SIZE+<span class="number">1</span>):</span><br><span class="line">                <span class="built_in">print</span>(self.board[i][j],end=<span class="string">' '</span>)</span><br><span class="line">            <span class="built_in">print</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 放置棋子</span></span><br><span class="line">    <span class="comment"># 参数1 pos位置坐标 类型是长度为2的列表或元组</span></span><br><span class="line">    <span class="comment"># 参数2 color棋子颜色</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setChess</span>(<span class="params">self,pos,color</span>):</span></span><br><span class="line">        x = pos[<span class="number">0</span>]</span><br><span class="line">        y = pos[<span class="number">1</span>]</span><br><span class="line">        self.board[x][y] = color</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 放置棋子</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setChessMan</span>(<span class="params">self,chessMan</span>):</span></span><br><span class="line">            pos = chessMan.getPos()</span><br><span class="line">            color = chessMan.getColor()</span><br><span class="line">            self.setChess(pos,color)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 根据位置读取棋子的颜色</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getChess</span>(<span class="params">self,pos</span>):</span></span><br><span class="line">        x,y = pos</span><br><span class="line">        <span class="keyword">return</span> self.board[x][y]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 判断某个坐标点是否为空</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEmpty</span>(<span class="params">self,pos</span>):</span></span><br><span class="line">        chess = self.getChess(pos)</span><br><span class="line">        <span class="keyword">if</span> chess == <span class="string">'+'</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="comment">#非空即黑或白</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p>创建一个棋子类</p><p>chessman.py</p><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#棋子类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChessMan</span>:</span></span><br><span class="line">    <span class="comment"># 初始化</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.color = <span class="string">'x'</span></span><br><span class="line">        self.pos = (<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">    <span class="comment"># 设置颜色</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setColor</span>(<span class="params">self,color</span>):</span></span><br><span class="line">        self.color = color</span><br><span class="line">    <span class="comment"># 获取颜色</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getColor</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.color</span><br><span class="line">    <span class="comment"># 设置位置</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setPos</span>(<span class="params">self,pos</span>):</span></span><br><span class="line">        self.pos = pos</span><br><span class="line">    <span class="comment"># 获取位置</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getPos</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.pos</span><br></pre></td></tr></tbody></table></figure><p>测试代码</p><p>main.py</p><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># from 文件名 import 类名</span></span><br><span class="line"><span class="keyword">from</span> chessboard <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> chessman <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试打印棋盘</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>():</span></span><br><span class="line">    board = ChessBoard()</span><br><span class="line">    board.initBoard()</span><br><span class="line">    board.printBoard()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#测试摆放棋子</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test2</span>():</span></span><br><span class="line">    board = ChessBoard()</span><br><span class="line">    board.initBoard()</span><br><span class="line">    <span class="comment">#测试setChess()摆放棋子</span></span><br><span class="line">    board.setChess((<span class="number">3</span>,<span class="number">5</span>),<span class="string">'x'</span>)</span><br><span class="line">    <span class="comment">#测试setChessMan()摆放棋子</span></span><br><span class="line">    chessMan = ChessMan()</span><br><span class="line">    chessMan.setColor(<span class="string">'o'</span>)</span><br><span class="line">    chessMan.setPos((<span class="number">4</span>,<span class="number">6</span>))</span><br><span class="line">    board.setChessMan(chessMan)</span><br><span class="line">    board.printBoard()</span><br><span class="line">    ret = board.isEmpty((<span class="number">3</span>,<span class="number">6</span>))</span><br><span class="line">    <span class="built_in">print</span>(ret)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:  <span class="comment"># 相当于一个入口,当其他模块被调用的时候,先运行此模块</span></span><br><span class="line">    test2()</span><br></pre></td></tr></tbody></table></figure></li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
